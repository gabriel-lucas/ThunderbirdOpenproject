<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Thunderbird OpenProject</title>
    <link rel="stylesheet" type="text/css" media="screen" href="popup.css" />
    <script src="scripts/i18n.js" type="text/javascript"></script>
    <script src="scripts/common.js" type="text/javascript"></script>
    <script src="scripts/settings_utils.js" type="text/javascript"></script>
    <script src="scripts/api_utils.js" type="text/javascript"></script>
    <script src="scripts/settings.js" type="text/javascript"></script>
    <style>
      #settings {
        width: 100%;
      }
      .settings-section {
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #eee;
      }
      .settings-section:last-child {
        border-bottom: none;
      }
      .settings-section-title {
        font-weight: 600;
        font-size: 14px;
        color: #333;
        margin-bottom: 12px;
      }
    </style>
  </head>
  <body>
    <div id="settings">
      <!-- API Configuration Section -->
      <div class="settings-section">
        <div class="settings-section-title" data-i18n="settings">Settings</div>
        
        <div class="popup-label">
          <span data-i18n="apiUrl">API URL</span>
        </div>
        <div class="popup-input">
          <input type="text" placeholder="https://your-openproject.example.com" id="apiurl" />
        </div>
        
        <div class="popup-label">
          <span data-i18n="apiKey">API Key</span>
          (<a href="https://www.openproject.org/docs/api/example/#basic-auth" target="_blank" data-i18n="apiKeyHelp">see here</a>)
        </div>
        <div class="popup-input">
          <input type="password" placeholder="API Key" id="apikey" />
        </div>
        <div class="popup-input">
          <button style="width: auto" id="tokenapplybutton" disabled data-i18n="saveToken">
            Save Token
          </button>
        </div>
      </div>
      
      <!-- Language Section -->
      <div class="settings-section">
        <div class="popup-label">
          <span data-i18n="language">Language</span>
        </div>
        <div class="popup-input">
          <select id="language">
            <option value="en">English</option>
            <option value="zh">中文 (Chinese)</option>
            <option value="es">Español (Spanish)</option>
            <option value="hi">हिन्दी (Hindi)</option>
            <option value="ar">العربية (Arabic)</option>
            <option value="pt">Português (Portuguese)</option>
            <option value="bn">বাংলা (Bengali)</option>
            <option value="ru">Русский (Russian)</option>
            <option value="ja">日本語 (Japanese)</option>
            <option value="fr">Français (French)</option>
            <option value="de">Deutsch (German)</option>
            <option value="it">Italiano (Italian)</option>
            <option value="ko">한국어 (Korean)</option>
            <option value="nl">Nederlands (Dutch)</option>
            <option value="pl">Polski (Polish)</option>
            <option value="sv">Svenska (Swedish)</option>
          </select>
        </div>
      </div>
      
      <!-- Defaults Section -->
      <div class="settings-section">
        <div class="popup-label">
          <span data-i18n="defaultProject">Default Project</span>
        </div>
        <div class="popup-input">
          <select id="defaultproject">
            <option value="" disabled selected class="placeholder" data-i18n="selectProject">Select a project...</option>
          </select>
        </div>
        
        <div class="popup-label">
          <span data-i18n="defaultAssignee">Default Assignee</span>
        </div>
        <div class="popup-input">
          <select id="defaultassignee">
            <option value="" disabled selected class="placeholder" data-i18n="selectAssignee">Select assignee...</option>
          </select>
        </div>
        
        <div class="popup-label">
          <span data-i18n="defaultResponsible">Default Responsible</span>
        </div>
        <div class="popup-input">
          <select id="defaultresponsible">
            <option value="" disabled selected class="placeholder" data-i18n="selectResponsible">Select responsible...</option>
          </select>
        </div>
      </div>
      
      <!-- Task Format Section -->
      <div class="settings-section">
        <div class="popup-label">
          <span data-i18n="defaultTaskFormat">Default Task Format</span>
        </div>
        <div class="popup-input">
          <select id="defaultcontentformat">
            <option value="Mail by %author%: %subject%">Default</option>
            <option value="custom">Custom</option>
          </select>
        </div>
        <div class="popup-indented" id="defaultcontentformat-custom-wrapper">
          <div class="popup-label">
            <span data-i18n="formatHelp">You can use the following parameters which get replaced by the value from the message:</span><br />
            <span data-i18n="formatParams">%author%, %subject%, %msgid%, %date-Y%, %date-M%, %date-D%, %date-h%, %date-m%, %date-s%, %date-YYYY%, %date-MM%, %date-DD%, %date-hh%, %date-mm%, %date-ss%</span>
          </div>
          <div class="popup-input">
            <input
              type="text"
              placeholder="Mail by %author%: %subject%"
              id="defaultcontentformat-custom"
            />
          </div>
        </div>
        
        <div class="popup-checkbox" style="margin-top: 12px;">
          <label>
            <input type="checkbox" id="include_message_body" />
            <span data-i18n="includeMessageBodyDefault">Include message body as description by default</span>
          </label>
        </div>
      </div>
    </div>
  </body>
</html>
